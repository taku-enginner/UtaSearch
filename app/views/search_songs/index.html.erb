<p style="color: green"><%= notice %></p>

<% content_for :title, "歌詞一覧" %>

<h1 class="text-2xl font-bold mb-4">過去に検索された歌詞</h1>

<div id="search_songs" class="grid grid-cols-1 md:grid-cols-4 gap-4">
  <% @search_songs.each do |search_song| %>
    <div class="mb-4 p-4 bg-white shadow-md rounded-lg">
      <div class="mb-2">
        <p class="text-gray-900 mb-2"><strong class="text-gray-700 text-sm font-bold">Title:</strong> <%= search_song.title %></p>
      </div>
      <div class="mb-2">
        <p class="text-gray-900 mb-2"><strong class="text-gray-700 text-sm font-bold">Artist:</strong> <%= search_song.artist_name %></p>
      </div>
      <div class="flex space-x-2">
        <%= link_to "歌詞を見る", lyrics_search_song_path(search_song, url: search_song.url, title: search_song.title, artist_name: search_song.artist_name), class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
        <%= button_to "履歴を削除", search_song_path(search_song), method: :delete, class: "bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" %>
      </div>
    </div>
  <% end %>
</div>

<p>
  技術検証用にミニアプリを開発しました！<br>
  曲名とアーティスト名から歌詞を検索・閲覧できるアプリです。
</p>
<br>
<p>
  ※歌詞を検索すると外部APIへのリクエストがブロックされ、エラーになります。
</p>
<p>
  対応するには月単位でコストがかかるため、本アプリでは対応しないことにしました。
</p>
<p>
  原因はPaaSを利用していることから、外部APIへのリクエスト時のIPアドレスが動的になる点と予想しています。<br>
  ローカル環境ではリクエストが成功し歌詞が取得できています。
</p>
<br>
<p>
  GitHubは公開してるので、ご興味あれば。
</p>